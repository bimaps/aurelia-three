<template>
  <div class="module__head">
    <ux-icon icon="gavel" click.delegate="toggle()"></ux-icon>
    <div>
      <ux-input value.bind="module.name" variant="outline" label="${'three.Extract module name (optional)' | t}"></ux-input>
    </div>
    <ux-icon icon="drag_handle" class="handler"></ux-icon>
  </div>
  <div class="module__body" if.bind="opened">
    <ux-field>
      <select-control value.bind="module.inputVarName" options.bind="inputOptions" label="${'three.Input Variable Name' | t}">
        <ux-icon icon="input" slot="leading-icon"></ux-icon>
      </select-control>
    </ux-field>

    <ux-field>
      <label t="three.Extract Type"></label>
      <ux-chip-list ux-choice-container.bind="module.extractType">
        <ux-chip ux-choice.bind="type.value" repeat.for="type of extractOptions" click.delegate="triggerChange()">${type.label}</ux-chip>
      </ux-chip-list>
    </ux-field>

    <ux-input value.bind="module.value" if.bind="module.extractType === 'property'" label="${'three.Extracted Property' | t}">
      <ux-icon icon="list" slot="leading-icon" click.delegate="keyHelperList(module, 'value')"></ux-icon>
    </ux-input>

    <ux-field>
      <label t="three.Force output as number"></label>
      <ux-switch value.two-way="module.forceOutputAsNumber"></ux-switch>
    </ux-field>

  </div>
  <div class="module__foot">
    <ux-field>
      <ux-input value.bind="module.outputVarName" label="${'three.Output Variable Name' | t}">
        <ux-icon icon="navigate_next" slot="leading-icon"></ux-icon>
      </ux-input>
    </ux-field>
  </div>
</template>
